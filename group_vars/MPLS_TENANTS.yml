tenants:
  TENANT_A:
    mac_vrf_rt_base: 10000
    pseudowire_rt_base: 1000
    point_to_point_services:
      - name: TEN_A_FRA_BER_eline_vlan_based_1
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20000
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet1/1" , "Ethernet1/1"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0000
          - id: 30000
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet1/1" , "Ethernet1/1"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0000
      - name: TEN_A_FRA_BER_eline_vlan_based_2
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20010
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet1/2" , "Ethernet1/2"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0001
          - id: 30010
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet1/2" , "Ethernet1/2"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0001
      - name: TEN_A_FRA_BER_eline_vlan_based_3
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20020
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet1/3" , "Ethernet1/3"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0002
          - id: 30020
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet1/3" , "Ethernet1/3"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0002
      - name: TEN_A_FRA_BER_eline_vlan_based_4
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20030
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet1/4" , "Ethernet1/4"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0003
          - id: 30030
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet1/4" , "Ethernet1/4"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0003
      - name: TEN_A_FRA_BER_eline_vlan_based_5
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20040
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet3/1" , "Ethernet3/1"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0004
          - id: 30040
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet3/1" , "Ethernet3/1"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0004
      - name: TEN_A_FRA_BER_eline_vlan_based_6
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20050
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet3/2" , "Ethernet3/2"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0005
          - id: 30050
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet3/2" , "Ethernet3/2"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0005
      - name: TEN_A_FRA_BER_eline_vlan_based_7
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20060
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet3/3" , "Ethernet3/3"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0006
          - id: 30060
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet3/3" , "Ethernet3/3"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0006
      - name: TEN_A_FRA_BER_eline_vlan_based_8
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20070
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet3/4" , "Ethernet3/4"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0007
          - id: 30070
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet3/4" , "Ethernet3/4"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0007
      - name: TEN_A_FRA_BER_eline_vlan_based_9
        type: vpws-pseudowire
        subinterfaces:
          - number: 1000
          - number: 1001
          - number: 1002
          - number: 1003
          - number: 1004
          - number: 1005
          - number: 1006
          - number: 1007
          - number: 1008
          - number: 1009
        endpoints:
          - id: 20080
            nodes: ['smm153', 'smm154']
            interfaces: [ "Ethernet5/1" , "Ethernet5/1"]
            port_channel:
              mode: active
              short_esi: 0101:0202:0008
          - id: 30080
            nodes: ['smm311', 'smm312']
            interfaces: [ "Ethernet5/1" , "Ethernet5/1"]
            port_channel:
              mode: active
              short_esi: 0202:0202:0008
    l2vlans:
      10:
        name: TENANT_A_L2_SERVICE
        tags:
          - frankfurt
          - berlin
  TENANT_B:
    pseudowire_rt_base: 2000
    mac_vrf_rt_base: 20000
    vrfs:
      INTERNET:
        vrf_id: 20000
        vtep_diagnostic:
          loopback: 2000
          loopback_ip_range: 10.0.0.0/24
        additional_route_targets:
          - type: export
            address_family: evpn
            route_target: "65000:20001"
          - type: export
            address_family: evpn
            route_target: "65000:20002"
          - type: export
            address_family: evpn
            route_target: route-map TAG-DEFAULT-ONLY-RM
        address_families:
          - evpn
        l3_interfaces:
          - description: TENANT_B_SITE_3_INTRA_L3VPN
            enabled: true
            interfaces:
            - Ethernet21/1
            - Ethernet21/1
            ip_addresses:
            - 172.16.3.0/31
            - 172.16.4.0/31
            nodes:
            - smm153
            - smm311
        static_routes:
          - destination_address_prefix: 0.0.0.0/0
            gateway: Null0
            nodes:
              - smm153
        bgp_peers:
          172.16.3.1:
            maximum_routes: 0
            description: TENANT_B_CPE_SITE3
            # ebgp_multihop: 1
            nodes:
            - smm153
            remote_as: "65501"
      PREMIUM1:
        vrf_id: 20001
        vtep_diagnostic:
          loopback: 2001
          loopback_ip_range: 10.0.0.0/24
        address_families:
          - evpn
        l3_interfaces:
          - description: PREMIUM1
            enabled: true
            interfaces:
            - Ethernet22/1
            - Ethernet22/1
            ip_addresses:
            - 172.16.3.0/31
            - 172.16.4.0/31
            nodes:
            - smm153
            - smm311
    l2vlans:
      20:
        name: TENANT_B_L2_SERVICE
        tags:
          - frankfurt
          - berlin
